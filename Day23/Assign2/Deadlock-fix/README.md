In order to diagnose a deadlock. I create a simple implementation of a program. I created two country instances and gave each to a thread. The threads use a function that sends a request from both countries to the opposite. Previously this would cause a deadlock. Sometimes it would not cause deadlock, but for the majority it did. I now know I have fixed the problem because I have set up the basic function from before to send two million requests. Threads combined this is four million requests. I ran the program several times and the program always returns. How I solved this was making sure the locks for each country were locked simultaneously so neither is waiting for the other to unlock.